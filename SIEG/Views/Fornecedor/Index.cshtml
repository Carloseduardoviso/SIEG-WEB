<div class="card-body">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title text-dark">Cadastro de Fornecedor</h3>
        </div>

        ﻿<div class="container">
            <div class="flex-row">
                <div class="base-home">
                    <div class="base-form">
                        <h3>Preencha os campos do cadastro abaixo</h3>
                        <form method="get" action="." id="teste">
                            <div class="caixa100">
                                <div class="marcacao">
                                    <h5>Dados pessoais</h5>
                                    <div class="row">
                                        <div class="col-sm-12 col-md-4">
                                            <label for="exampleFormControlInput1" class="form-label">Nome <span class="text-danger">*</span></label>
                                            <input type="text" class="form-control" aria-label="Nome" placeholder="Digite o nome do cliente" required>
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label for="exampleFormControlInput2" class="form-label">Email <span class="text-danger">*</span></label>
                                            <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="Digite seu email">
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label for="exampleFormControlInput1" class="form-label">Celular  <span class="text-danger">*</span></label>
                                            <input id="telefone" type="text" class="form-control" aria-label="Celular" placeholder="Digite seu celular">
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label for="exampleFormControlInput1" class="form-label">CEP  <span class="text-danger">*</span></label>
                                            <input name="cep" type="text" id="cep" size="60" class="form-control" aria-label="CEP" placeholder="Digite seu cep">
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label class="form-label">
                                                Numero <span class="text-danger">*</span>
                                            </label>
                                            <input class="form-control" name="" type="text" id="" value="" placeholder="Digite o numero do endereço" />
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label class="form-label">
                                                Rua <span class="text-danger">*</span>
                                            </label>
                                            <input class="form-control" name="rua" type="text" id="rua" placeholder="..." readonly />
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label class="form-label">
                                                Bairro <span class="text-danger">*</span>
                                            </label>
                                            <input class="form-control" name="bairro" type="text" id="bairro" placeholder="..." readonly />
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label class="form-label">
                                                Cidade <span class="text-danger">*</span>
                                            </label>
                                            <input class="form-control" name="cidade" type="text" id="cidade" placeholder="..." readonly />
                                        </div>
                                        <div class="col-sm-12 col-md-4">
                                            <label class="form-label">
                                                Estado <span class="text-danger">*</span>
                                            </label>
                                            <input class="form-control" name="uf" type="text" id="uf" placeholder="..." readonly />
                                        </div>
                                    </div>
                                    <input type="hidden" name="id_cliente" value="" />

                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-danger me-md-2" data-bs-dismiss="modal">Cancelar</button>
                                        <button type="button" class="btn btn-success">Concluir cadastro</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Adicionando JQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
        crossorigin="anonymous"></script>

<!-- Adicionando Javascript -->
<!-- Certifique-se de incluir os scripts e estilos do Notyf -->
<!-- Inclua o estilo CSS do Notyf usando um CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3.3.0/dist/notyf.min.css">
<!-- Inclua o script do Notyf usando um CDN -->
<script src="https://cdn.jsdelivr.net/npm/notyf@3.3.0/dist/notyf.min.js"></script>


<script>
    $(document).ready(function () {
        var notyf = new Notyf();

        function limpa_formulário_cep() {
            // Limpa valores do formulário de cep.
            $("#rua").val("");
            $("#bairro").val("");
            $("#cidade").val("");
            $("#uf").val("");
        }

        // Quando o campo cep perde o foco.
        $("#cep").blur(function () {
            // Nova variável "cep" somente com dígitos.
            var cep = $(this).val().replace(/\D/g, '');

            // Verifica se campo cep possui valor informado.
            if (cep != "") {
                // Expressão regular para validar o CEP.
                var validacep = /^[0-9]{8}$/;

                // Valida o formato do CEP.
                if (validacep.test(cep)) {
                    // Preenche os campos com "..." enquanto consulta webservice.
                    $("#rua").val("...");
                    $("#bairro").val("...");
                    $("#cidade").val("...");
                    $("#uf").val("...");

                    // Consulta o webservice viacep.com.br/
                    $.getJSON("https://viacep.com.br/ws/" + cep + "/json/?callback=?", function (dados) {
                        if (!("erro" in dados)) {
                            // Atualiza os campos com os valores da consulta.
                            $("#rua").val(dados.logradouro);
                            $("#bairro").val(dados.bairro);
                            $("#cidade").val(dados.localidade);
                            $("#uf").val(dados.uf);
                        } else {
                            // CEP pesquisado não foi encontrado.
                            notyf.open({ type: 'warning', message: "CEP não encontrado.", duration: 3000 });
                            limpa_formulário_cep();
                        }
                    });
                } else {
                    // CEP é inválido.
                    notyf.open({ type: 'warning', message: "Formato de CEP inválido.", duration: 3000 });
                    limpa_formulário_cep();
                }
            } else {
                // CEP sem valor, limpa formulário.
                limpa_formulário_cep();
            }
        });
    });
</script>
